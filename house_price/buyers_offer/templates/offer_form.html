{% extends "base_generic.html" %}
{% load static %}

{% block content %}
    <form action="" method="POST" id="form" class="buyers_offer_form">
        {% csrf_token %}
        <h2>Offer Details</h2>
        <div class="page">
            <h3>Enter the offer price that you have in mind?</h3>
            <p>Nothing you enter here is final. You and our AI will determine what’s best for you.</p>
            {{ form.offer_price }}
        </div>

        <div class="page">
            <h3>How do you plan to pay for this home?</h3>
            <p>Nothing you enter here is final. You and our AI will determine what’s best for you.</p>
            {{ form.payment_type }}
            <label id="id_down_payment_label">Down Payment: </label> {{ form.down_payment }}
        </div>

        <div class="page">
            <h3>Tell us a little about yourself</h3>
            {{ form.first_name.label }}: {{ form.first_name }}<br><br>
            {{ form.last_name.label }}: {{ form.last_name }}<br><br>
            {{ form.email.label }}: {{ form.email }}<br><br>
            {{ form.phone.label }}: {{ form.phone }}
        </div>

        <div class="page">
            <h3>Property Details</h3>
            {{ form.apartment.label }}: {{ form.apartment }}<br><br>
            {{ form.street.label }}: {{ form.street }}<br><br>
            {{ form.city.label }}: {{ form.city }}<br><br>
            {{ form.county.label }}: {{ form.county }}<br><br>
            {{ form.zipcode.label }}: {{ form.zipcode }}<br><br>
            {{ form.parcel_number.label }}: {{ form.parcel_number }}
        </div>

        <div class="page">
            <h3>Escrow Dose Date</h3>
            <button type="button" id="escrow_date">{{ form.escrow_date.label }}</button> <br>
            {{ form.escrow_date }}<br>
            <button type="button" id="escrow_days">{{ form.escrow_days.label }}</button><br>
            {{ form.escrow_days }}<br>
        </div>

        <button type="button" id="previous_button" onclick="nextPrev(-1)">Previous</button>
        <button type="button" id="next_button" onclick="nextPrev(1)">Next</button>
    </form>

    <script src="{% static 'scripts/scripts.js' %}"></script>
    <script>
        // Down payment
        document.getElementById("id_payment_type_0").addEventListener("click", hide_down_payment);
        document.getElementById("id_payment_type_1").addEventListener("click", show_down_payment);

        function hide_down_payment() {
            document.getElementById("id_down_payment_label").style.display = "none"
            document.getElementById("id_down_payment").style.display = "none";
            document.getElementById("id_down_payment").value = -1;
        }

        function show_down_payment() {
            document.getElementById("id_down_payment_label").style.display = "inline";
            document.getElementById("id_down_payment").style.display = "inline";
            document.getElementById("id_down_payment").value = null;
        }

        // Escrow Dose Date
        document.getElementById("escrow_date").addEventListener("click", hide_escrow_days);
        document.getElementById("escrow_days").addEventListener("click", hide_escrow_date);

        function hide_escrow_date() {
            document.getElementById("id_escrow_date").style.display = "none"
            document.getElementById("id_escrow_date").value = null;
            document.getElementById("id_escrow_days").style.display = "inline";
            document.getElementById("id_escrow_days").value = null;
        }

        function hide_escrow_days() {
            document.getElementById("id_escrow_days").style.display = "none"
            document.getElementById("id_escrow_days").value = null;
            document.getElementById("id_escrow_date").style.display = "inline";
            document.getElementById("id_escrow_date").value = null;
        }
    </script>
{% endblock %}